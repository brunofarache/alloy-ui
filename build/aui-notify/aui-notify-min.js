AUI.add("aui-notify",function(o){var d=o.Lang,k=d.isNumber,i=d.isString,q="alert",u="boundingBox",c="info",g="notice",b="rendered",a="timeout",j="type",n="notify-item",l=[a],s=o.Widget.prototype._UI_ATTRS,t=o.ClassNameManager.getClassName;o.NotifyItem=o.Base.create(n,o.Widget,[o.WidgetAutohide,o.WidgetChild,o.WidgetPosition,o.WidgetPositionAlign,o.WidgetStdMod],{_timerId:null,bindUI:function(){var x=this;x.after("renderedChange",x._afterRender);},renderUI:function(){var x=this,y=x.get(u),z=x.get(j);y.addClass(t(n,z));},_afterRender:function(){var x=this;x._uiSetTimeout(x.get(a));},_uiSetTimeout:function(y){var x=this;if(x.get(b)){clearTimeout(x._timerId);if(y<Infinity){x._timerId=setTimeout(o.bind(x.hide,x),x.get(a)+x.get("hideTransition.duration"));}}},_uiSetVisible:function(E){var x=this,z=x.get(u),A=z.getDOM(),D=x.get("showTransition"),y=x.get("hideTransition"),C=o.bind(o.NotifyItem.superclass._uiSetVisible,x,E);if(E&&!D){C();return;}if(!E&&!y){C();x.fire("hideTransitionEnd");return;}if(E){if(D.hasOwnProperty("opacity")&&(A.style.opacity==="")){z.setStyle("opacity",0);}z.transition(D,C);}else{z.transition(y,function(){C();x.fire("hideTransitionEnd");});}},_UI_ATTRS:{BIND:s.BIND.concat(l),SYNC:s.SYNC.concat(l)}},{ATTRS:{hideOn:{valueFn:function(){return[{node:this.get(u),eventName:"click"}];},validator:o.Lang.isArray},hideTransition:{value:{opacity:0,duration:1}},showTransition:{value:{opacity:1}},timeout:{validator:function(x){return k(x)||x===Infinity;},value:Infinity},type:{validator:function(x){return(x===q||x===c||x===g);},value:q}}});var r="body",w="center",p="direction",h="id",v="indent",e="maxRows",m="position",f="px";REGION="region",B="b",BL="bl",BR="br",L="l",R="r",T="t",TL="tl",TR="tr",POSITIONS={b:[o.WidgetPositionAlign.TL,o.WidgetPositionAlign.BL],bl:[o.WidgetPositionAlign.BL,o.WidgetPositionAlign.BL],br:[o.WidgetPositionAlign.BR,o.WidgetPositionAlign.BR],l:[o.WidgetPositionAlign.TR,o.WidgetPositionAlign.TL],r:[o.WidgetPositionAlign.TL,o.WidgetPositionAlign.TR],t:[o.WidgetPositionAlign.BL,o.WidgetPositionAlign.TL],tl:[o.WidgetPositionAlign.TL,o.WidgetPositionAlign.TL],tr:[o.WidgetPositionAlign.TR,o.WidgetPositionAlign.TR]},o.NotifyContainer=o.Base.create("notify-container",o.Widget,[o.WidgetParent],{handles:null,regions:null,initializer:function(){var x=this;x.handles={};x.regions={};},bindUI:function(){var x=this;x.after({"addChild":x._afterAdd,"notify-item:hideTransitionEnd":x._afterChildHideTransitionEnd,"notify-item:renderedChange":x._afterChildRender});},_afterAdd:function(x){var H=this,z=x.child,F=H.get(p),I=H.size(),A=H.get(v),D=x.index,y=H.get("alignNode"),C=POSITIONS[H.get(m)];if(I>1){var G=H.get(e),E;if((I%G)===1||G===1){E=H.item(D-G);C=POSITIONS[A];}else{E=H.item(D-1);C=POSITIONS[F];}y=E.get(u);}if(C===w){z.centered(y);}else{z.align(y,C);}},_afterChildHideTransitionEnd:function(z){var x=this,A=z.target,y=x.indexOf(A);x._swapRegions(y);x._moveChildren(y);x.remove(y);},_afterChildRender:function(z){var x=this,A=z.target,y=A.get(u);x.regions[A.get(h)]=y.get(REGION);},_moveChildren:function(y){var x=this;x.each(function(D,z){if(z<=y){return;}var C=x.regions[D.get(h)];if(!C){return;}var A=D.get(u);console.log(C.top,C.left);A.transition({top:C.top+f,left:C.left+f});});},_swapRegions:function(y){var x=this;var A=x.size()-1;for(;A>y;A--){var C=x.item(A);var z=x.item(A-1);x.regions[C.get(h)]=x.regions[z.get(h)];console.log(x.regions[C.get(h)],C.get(h),x.regions,z.bodyNode.html(),C.bodyNode.html());}}},{ATTRS:{alignNode:{value:r},defaultChildType:{value:o.NotifyItem,readOnly:true},direction:{valueFn:function(){var x=this.get(m);if((x===T)||(x===TL)||(x===TR)){return B;}else{return T;}}},indent:{valueFn:function(){var x=this.get(m);if((x===R)||(x===BR)||(x===TR)){return L;}else{return R;}}},maxRows:{value:1},position:{value:TR}}});},"@VERSION@",{skinnable:true,requires:["aui-base","transition","widget","widget-autohide","widget-child","widget-parent","widget-position","widget-position-align","widget-stdmod"]});